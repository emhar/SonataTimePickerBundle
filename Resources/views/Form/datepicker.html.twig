{#
 This file is part of the EmharSonataTimePickerBundle bundle.

 (c) Emmanuel Harleaux

 This source file is subject to the MIT license that is bundled
 with this source code in the file LICENSE.
#}

{% block sonata_type_time_picker_widget_html %}
    {% if datepicker_use_button %}
        <div class='input-group date' id='dtp_{{ id }}'>
    {% endif %}
    {% set attr = attr|merge({'data-time-format': moment_format}) %}
    {{ block('datetime_widget') }}
    {% if datepicker_use_button %}
        <span class="input-group-addon"><span class="fa fa-clock-o"></span></span>
        </div>
    {% endif %}
{% endblock %}

{% block sonata_type_time_picker_widget %}
    {% spaceless %}
        {% if wrap_fields_with_addons %}
            <div class="input-group">
                {{ block('sonata_type_time_picker_widget_html') }}
            </div>
        {% else %}
            {{ block('sonata_type_time_picker_widget_html') }}
        {% endif %}
        <script type="text/javascript">
            jQuery(function ($) {
                $('#{{ datepicker_use_button ? 'dtp_' : '' }}{{ id }}').datetimepicker({{ dp_options|json_encode|raw }});
            });
        </script>
    {% endspaceless %}
{% endblock %}
